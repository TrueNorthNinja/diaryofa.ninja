---
import type { CollectionEntry } from "astro:content";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
const { title, description, pubDate, heroImage } = post.data;

// Format the date
const formattedDate = pubDate.toLocaleDateString("en-us", {
  year: "numeric",
  month: "short",
  day: "numeric",
});
---

<article
  class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
>
  {
    heroImage && (
      <div class="aspect-video overflow-hidden">
        <img
          src={heroImage}
          alt={`Cover image for ${title}`}
          class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
        />
      </div>
    )
  }
  <div class="p-6">
    <div class="text-sm text-gray-500 dark:text-gray-400 mb-2">
      {formattedDate}
    </div>
    <h2 class="text-xl font-bold mb-2 text-gray-900 dark:text-white">
      <a
        href={`/blog/${post.slug}/`}
        class="hover:text-blue-600 dark:hover:text-blue-400"
      >
        {title}
      </a>
    </h2>
    <p class="text-gray-700 dark:text-gray-300 mb-4 line-clamp-3">
      {description}
    </p>
    <a
      href={`/blog/${post.slug}/`}
      class="inline-block px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-300"
    >
      Read more
    </a>
  </div>
</article>

